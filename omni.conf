[settings]
    ignore_warnings = True


[computers]
    current = computer.txt
    [[zerogravitas]]
	remote = archer
	remote_address = mmuetz@login.archer.ac.uk
	remote_path = /nerc/n02/n02/mmuetz/omnis/u-af095_256x256km2
	[[[dirs]]]
	    work = /home/markmuetz/archer_mirror/nerc/um10.5_runs/u-af095_256x256km2/work
	    results = /home/markmuetz/omni_output/u-af095_256x256km2/results
	    output = /home/markmuetz/omni_output/u-af095_256x256km2/output
    [[archer]]
	[[[dirs]]]
	    work60s = /nerc/n02/n02/mmuetz/um10.5_runs/u-af095_64x64km2_1km_60s/work
	    work30s = /nerc/n02/n02/mmuetz/um10.5_runs/u-af095_64x64km2_1km_30s/work
	    work15s = /nerc/n02/n02/mmuetz/um10.5_runs/u-af095_64x64km2_1km_15s/work
	    results = /nerc/n02/n02/mmuetz/omni_output/u-af095_64x64km2/results
	    output = /nerc/n02/n02/mmuetz/omni_output/u-af095_64x64km2/output


[batches]
    [[batch0]]
        index = 0
    [[batch1]]
        index = 1
    [[batch2]]
        index = 2
    [[batch3]]
        index = 2


[groups]
    [[pp1_60s]]
	type = init
        base_dir = work60s
        batch = batch0
        filename_glob = 2000??????????/atmos/atmos.???.pp1
    
    [[pp1_30s]]
	type = init
        base_dir = work30s
        batch = batch0
        filename_glob = 2000??????????/atmos/atmos.???.pp1
    
    [[pp1_15s]]
	type = init
        base_dir = work15s
        batch = batch0
        filename_glob = 2000??????????/atmos/atmos.???.pp1
    

    [[nc1_60s]]
	type = group_process
	from_group = pp1_60s
        base_dir = work60s
        batch = batch1
	process = convert_pp_to_nc
    

    [[nc1_30s]]
	type = group_process
	from_group = pp1_30s
        base_dir = work30s
        batch = batch1
	process = convert_pp_to_nc
    

    [[nc1_15s]]
	type = group_process
	from_group = pp1_15s
        base_dir = work15s
        batch = batch1
	process = convert_pp_to_nc
    

    [[surf_ts_60s]]
	type = nodes_process
        base_dir = results
        batch = batch2
        nodes = precip_ts_60s, sensible_heat_flux_ts_60s, precip_conv_ts_60s
    
    [[plot_surf_ts_60s]]
	type = nodes_process
        base_dir = output
        batch = batch3
        nodes = plot_surf_ts_60s,


    [[surf_ts_30s]]
	type = nodes_process
        base_dir = results
        batch = batch2
        nodes = precip_ts_30s, sensible_heat_flux_ts_30s, precip_conv_ts_30s
    
    [[plot_surf_ts_30s]]
	type = nodes_process
        base_dir = output
        batch = batch3
        nodes = plot_surf_ts_30s,


    [[surf_ts_15s]]
	type = nodes_process
        base_dir = results
        batch = batch2
        nodes = precip_ts_15s, sensible_heat_flux_ts_15s, precip_conv_ts_15s
    
    [[plot_surf_ts_15s]]
	type = nodes_process
        base_dir = output
        batch = batch3
        nodes = plot_surf_ts_15s,

[nodes]
    [[precip_ts_60s]]
        from_group = nc1_60s
        variable = precip
        process = domain_mean
    
    [[precip_conv_ts_60s]]
        from_node = precip_ts_60s
        process = convert_mass_to_energy_flux
    
    [[sensible_heat_flux_ts_60s]]
        from_group = nc1_60s
        variable = sensible_heat_flux
        process = domain_mean
    
    [[plot_surf_ts_60s]]
        from_nodes = precip_conv_ts_60s, sensible_heat_flux_ts_60s
        process = plot_multi_timeseries


    [[precip_ts_30s]]
        from_group = nc1_30s
        variable = precip
        process = domain_mean
    
    [[precip_conv_ts_30s]]
        from_node = precip_ts_30s
        process = convert_mass_to_energy_flux
    
    [[sensible_heat_flux_ts_30s]]
        from_group = nc1_30s
        variable = sensible_heat_flux
        process = domain_mean
    
    [[plot_surf_ts_30s]]
        from_nodes = precip_conv_ts_30s, sensible_heat_flux_ts_30s
        process = plot_multi_timeseries


    [[precip_ts_15s]]
        from_group = nc1_15s
        variable = precip
        process = domain_mean
    
    [[precip_conv_ts_15s]]
        from_node = precip_ts_15s
        process = convert_mass_to_energy_flux
    
    [[sensible_heat_flux_ts_15s]]
        from_group = nc1_15s
        variable = sensible_heat_flux
        process = domain_mean
    
    [[plot_surf_ts_15s]]
        from_nodes = precip_conv_ts_15s, sensible_heat_flux_ts_15s
        process = plot_multi_timeseries


[variables]
    [[precip]]
        section = 4
        item = 203
    
    [[sensible_heat_flux]]
        section = 3
        item = 217

[process_options]
    [[convert_pp_to_nc]]
	convert_from = .pp
	convert_to = .nc
